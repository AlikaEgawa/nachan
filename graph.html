<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.16.0/d3.min.js" charset="utf-8"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.7.20/c3.js"></script>

<title>C3.js グラフ</title>


<style>
#chart1 {height: 300px;}
#chart2 {height: 300px;}
.c3 svg {font-size: 70%;}
.c3-ygrid {stroke-dasharray: none;}
.c3-grid line {stroke: #ddd;}
</style>


<script>
// window.onload = function () {  //  <div id="chart"></div>など全てを読み込んでからこの部分を実行する
$(function () {  // jQueryでは，これを使う
	//  一つ目のグラフ
	var chart1 = c3.generate({
	    bindto: '#chart1',  // 表示場所
	    data: {
	        columns: [
	            ['year1', '2013', '2014', '2015', '2016', '2017', '2018' ],
	            ['data1', 30, 200, 100, 400, 150, 250],
	            ['data2', 35, 105, 105, 105, 105, 125],
	            ['data3', 130, 100, 140, 200, 150, 50]
	        ],
	        type: 'bar',  // グラフのタイプ
	        x: 'year1', // x軸の指定
	    }
	});
	
	
	
	//  二つ目のグラフ
	var chart2 = c3.generate({
	    bindto: '#chart2',
	    padding: {top: 10, right: 100, bottom: 0, left: 100},
	    data: {
	        columns: [
	            ['year2', '2009', '2010', '2011', '2012', '2013', '2014', '2015', '2016', '2018', '2019' ],
	            ['data1', 791, 821, 837, 850, 869, 888, 907, 932, 957, 985],
	            ['data2', 1791, 1821, 1837, 1850, 1869, 1888, 1907, 1932, 1957, 1985],
	        ],
	        type: 'line',
	        x: 'year2', // x軸の指定
	    },
	    axis: {
	        x: {
	            tick: {
	                culling: false, // 軸ラベルの途中省略をしない
	                rotate: 45
	            },
	        },
	        y: {
	            tick: {format: function(d){ return("\\" + new Intl.NumberFormat("ja").format(d)); } },
	        }
	    },
	    grid: {
	        y: {show: true},
	        x: {show: true}
	    },
	    legend: {show: true},
	});
	
	
	
	//  グラフの追加
	setTimeout(function () {
	    chart2.load({
	        columns: [
	            ['data3', 291, 321, 337, 350, 369, 388, 407, 432, 457, 485],
	        ]
	    });
	}, 1000);

});
// };
</script>
</head>


<body>
	<h1>C3.js グラフ</h1>
	<div id="chart1"></div>
	<div id="chart2"></div>
</body>
</html>
